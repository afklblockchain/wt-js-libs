<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [Contracts][1]
    -   [Parameters][2]
    -   [\_getInstance][3]
        -   [Parameters][4]
    -   [getIndexInstance][5]
        -   [Parameters][6]
    -   [getHotelInstance][7]
        -   [Parameters][8]
    -   [decodeLogs][9]
        -   [Parameters][10]
    -   [createInstance][11]
        -   [Parameters][12]
-   [HotelDataIndex][13]
    -   [Properties][14]
-   [HotelDescriptionInterface][15]
    -   [Properties][16]
-   [RoomTypeInterface][17]
    -   [Properties][18]
-   [OccupancyInterface][19]
    -   [Properties][20]
-   [LocationInterface][21]
    -   [Properties][22]
-   [AdditionalContact][23]
    -   [Properties][24]
-   [ContactInterface][25]
    -   [Properties][26]
-   [ContactsInterface][27]
    -   [Properties][28]
-   [AddressInterface][29]
    -   [Properties][30]
-   [RatePlansInterface][31]
    -   [Properties][32]
-   [RatePlanInterface][33]
    -   [Properties][34]
-   [DateRangeInterface][35]
    -   [Properties][36]
-   [RatePlanPriceModifier][37]
    -   [Properties][38]
-   [RatePlanRestrictions][39]
    -   [Properties][40]
-   [DataModelOptionsType][41]
    -   [Properties][42]
-   [DataModel][43]
    -   [Parameters][44]
    -   [getWindingTreeIndex][45]
        -   [Parameters][46]
    -   [getTransactionsStatus][47]
        -   [Parameters][48]
    -   [createWallet][49]
        -   [Parameters][50]
    -   [createInstance][51]
        -   [Parameters][52]
-   [OnChainHotel][53]
    -   [Parameters][54]
    -   [initialize][55]
    -   [dataIndex][56]
    -   [setLocalData][57]
        -   [Parameters][58]
    -   [toPlainObject][59]
        -   [Parameters][60]
    -   [\_editInfoOnChain][61]
        -   [Parameters][62]
    -   [createOnChainData][63]
        -   [Parameters][64]
    -   [updateOnChainData][65]
        -   [Parameters][66]
    -   [transferOnChainOwnership][67]
        -   [Parameters][68]
    -   [removeOnChainData][69]
        -   [Parameters][70]
    -   [createInstance][71]
        -   [Parameters][72]
-   [WTIndex][73]
    -   [Parameters][74]
    -   [addHotel][75]
        -   [Parameters][76]
    -   [updateHotel][77]
        -   [Parameters][78]
    -   [removeHotel][79]
        -   [Parameters][80]
    -   [transferHotelOwnership][81]
        -   [Parameters][82]
    -   [getHotel][83]
        -   [Parameters][84]
    -   [getAllHotels][85]
    -   [createInstance][86]
        -   [Parameters][87]
-   [WTLibsError][88]
    -   [Parameters][89]
-   [SmartContractInstantiationError][90]
-   [WalletError][91]
-   [MalformedWalletError][92]
-   [WalletStateError][93]
-   [WalletPasswordError][94]
-   [WalletSigningError][95]
-   [TransactionMiningError][96]
-   [OutOfGasError][97]
-   [InsufficientFundsError][98]
-   [TransactionRevertedError][99]
-   [NoReceiptError][100]
-   [InaccessibleEthereumNodeError][101]
-   [InputDataError][102]
-   [OffChainDataError][103]
-   [OffChainDataConfigurationError][104]
-   [OffChainDataRuntimeError][105]
-   [StoragePointerError][106]
-   [RemotelyBackedDatasetError][107]
-   [RemoteDataAccessError][108]
-   [RemoteDataReadError][109]
-   [HotelNotFoundError][110]
-   [HotelNotInstantiableError][111]
-   [WtLibsOptionsType][112]
    -   [Properties][113]
-   [WTLibs][114]
    -   [Parameters][115]
    -   [getWTIndex][116]
        -   [Parameters][117]
    -   [getTransactionsStatus][118]
        -   [Parameters][119]
    -   [createWallet][120]
        -   [Parameters][121]
    -   [getOffChainDataClient][122]
        -   [Parameters][123]
    -   [createInstance][124]
        -   [Parameters][125]
    -   [errors][126]
-   [HotelOnChainDataInterface][127]
    -   [Properties][128]
-   [TransactionOptionsInterface][129]
    -   [Properties][130]
-   [TransactionCallbacksInterface][131]
    -   [Properties][132]
-   [PreparedTransactionMetadataInterface][133]
    -   [Properties][134]
-   [HotelInterface][135]
    -   [Properties][136]
-   [WTIndexInterface][137]
    -   [Properties][138]
-   [OffChainDataAdapterInterface][139]
    -   [Properties][140]
-   [DataModelInterface][141]
    -   [Properties][142]
-   [RawLogRecordInterface][143]
    -   [Properties][144]
-   [DecodedLogRecordInterface][145]
    -   [Properties][146]
-   [TransactionDataInterface][147]
    -   [Properties][148]
-   [TxInterface][149]
    -   [Properties][150]
-   [TxReceiptInterface][151]
    -   [Properties][152]
-   [AdaptedTxResultInterface][153]
    -   [Properties][154]
-   [AdaptedTxResultsInterface][155]
    -   [Properties][156]
-   [WalletInterface][157]
    -   [Properties][158]
-   [KeystoreV3Interface][159]
    -   [Properties][160]
-   [OffChainDataClientOptionsType][161]
    -   [Properties][162]
-   [OffChainDataClient][163]
    -   [setup][164]
        -   [Parameters][165]
    -   [\_reset][166]
    -   [getAdapter][167]
        -   [Parameters][168]
-   [RemotelyBackedDataset][169]
    -   [bindProperties][170]
        -   [Parameters][171]
    -   [isObsolete][172]
    -   [markObsolete][173]
    -   [isDeployed][174]
    -   [markDeployed][175]
    -   [\_genericGetter][176]
        -   [Parameters][177]
    -   [\_genericSetter][178]
        -   [Parameters][179]
    -   [updateRemoteData][180]
        -   [Parameters][181]
    -   [createInstance][182]
-   [FieldDefType][183]
    -   [Properties][184]
-   [StoragePointer][185]
    -   [Parameters][186]
    -   [reset][187]
    -   [\_genericGetter][188]
        -   [Parameters][189]
    -   [\_detectSchema][190]
        -   [Parameters][191]
    -   [\_getOffChainDataClient][192]
    -   [\_initFromStorage][193]
        -   [Parameters][194]
    -   [\_downloadFromStorage][195]
    -   [toPlainObject][196]
        -   [Parameters][197]
    -   [createInstance][198]
        -   [Parameters][199]
-   [Utils][200]
    -   [Parameters][201]
    -   [isZeroAddress][202]
        -   [Parameters][203]
    -   [applyGasCoefficient][204]
        -   [Parameters][205]
    -   [getCurrentWeb3Provider][206]
    -   [getCurrentBlockNumber][207]
    -   [determineCurrentAddressNonce][208]
        -   [Parameters][209]
    -   [getTransactionReceipt][210]
        -   [Parameters][211]
    -   [getTransaction][212]
        -   [Parameters][213]
    -   [createInstance][214]
        -   [Parameters][215]
-   [Wallet][216]
    -   [Parameters][217]
    -   [setWeb3][218]
        -   [Parameters][219]
    -   [isDestroyed][220]
    -   [getAddress][221]
    -   [unlock][222]
        -   [Parameters][223]
    -   [signAndSendTransaction][224]
        -   [Parameters][225]
    -   [lock][226]
    -   [destroy][227]
    -   [createInstance][228]
        -   [Parameters][229]

## Contracts

Wrapper class for work with Winding Tree's Ethereum
smart contracts.

### Parameters

-   `web3`  

### \_getInstance

Generic method for getting an instance of `web3.eth.Contract`

#### Parameters

-   `name` **[string][230]** of contract, used in errors
-   `abi` **[Object][231]** specification of contract
-   `address` **[string][230]** on which we should look for the contract


-   Throws **[SmartContractInstantiationError][232]** When address is invalid
-   Throws **[SmartContractInstantiationError][232]** When no code is deployed on given address

Returns **web3.eth.Contract** Resulting wrapper contract

### getIndexInstance

Returns a representation of <a href="https://github.com/windingtree/wt-contracts/blob/v0.2.0/contracts/WTIndex.sol">WTIndex.sol</a>.

#### Parameters

-   `address` **[string][230]** 

Returns **web3.eth.Contract** Instance of an Index

### getHotelInstance

Returns a representation of <a href="https://github.com/windingtree/wt-contracts/blob/v0.2.0/contracts/hotel/Hotel.sol">Hotel.sol</a>.

#### Parameters

-   `address` **[string][230]** 

Returns **web3.eth.Contract** Instance of a Hotel

### decodeLogs

Decodes ethereum transaction log values. Currently supports
events from Index and Hotel smart contracts.

#### Parameters

-   `logs` **[Array][233]&lt;[RawLogRecordInterface][234]>** in a raw format

Returns **[Array][233]&lt;[DecodedLogRecordInterface][235]>** Decoded logs

### createInstance

Returns an initialized instance

#### Parameters

-   `web3` **Web3** instance created by `new Web3(provider)`

Returns **[Contracts][236]** 

## HotelDataIndex

Index file for more data URIs. This is the
initial document that blockchain is pointing to.

### Properties

-   `descriptionUri` **[string][230]** 
-   `ratePlansUri` **[string][230]** 

## HotelDescriptionInterface

-   **See: [https://github.com/windingtree/wt-js-libs/issues/125][237]**

Description of additional descriptive hotel data.

### Properties

-   `location` **([Promise][238]&lt;[LocationInterface][239]?> | [LocationInterface][239]?)?** 
-   `name` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `description` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `roomTypes` **([Promise][238]&lt;{}?> | {}?)?** 
-   `contacts` **([Promise][238]&lt;[ContactsInterface][240]> | [ContactsInterface][240])** 
-   `address` **([Promise][238]&lt;[AddressInterface][241]> | [AddressInterface][241])** 
-   `timezone` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `currency` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `images` **([Promise][238]&lt;[Array][233]&lt;[string][230]>?> | [Array][233]&lt;[string][230]>?)?** 
-   `amenities` **([Promise][238]&lt;[Array][233]&lt;[string][230]>?> | [Array][233]&lt;[string][230]>?)?** 
-   `updatedAt` **([Promise][238]&lt;[string][230]> | [string][230])** 

## RoomTypeInterface

Definition of a single room type.

### Properties

-   `name` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `description` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `totalQuantity` **([Promise][238]&lt;[number][242]> | [number][242])** 
-   `occupancy` **([Promise][238]&lt;[OccupancyInterface][243]> | [OccupancyInterface][243])** 
-   `amenities` **([Promise][238]&lt;[Array][233]&lt;[string][230]>?> | [Array][233]&lt;[string][230]>?)?** 
-   `images` **([Promise][238]&lt;[Array][233]&lt;[string][230]>?> | [Array][233]&lt;[string][230]>?)?** 
-   `updatedAt` **([Promise][238]&lt;[Date][244]?> | [Date][244]?)** 
-   `properties` **([Promise][238]&lt;[Object][231]?> | [Object][231]?)?** 

## OccupancyInterface

Denotes allowed occupancy of a room type.

### Properties

-   `min` **[number][242]??** 
-   `max` **[number][242]** 

## LocationInterface

Generic GPS location.

### Properties

-   `latitude` **[number][242]??** 
-   `longitude` **[number][242]??** 

## AdditionalContact

Generic additional contact.

### Properties

-   `title` **[string][230]** 
-   `value` **[string][230]** 

## ContactInterface

Generic contact.

### Properties

-   `email` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `phone` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `url` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `ethereum` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `additionalContacts` **([Promise][238]&lt;[Array][233]&lt;[AdditionalContact][245]>?> | [Array][233]&lt;[AdditionalContact][245]>?)?** 

## ContactsInterface

A map of hotel contacts.

### Properties

-   `general` **[ContactInterface][246]** 

## AddressInterface

Generic address interface.

### Properties

-   `line1` **([Promise][238]&lt;[string][230]> | [string][230])?** 
-   `line2` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `postalCode` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `city` **([Promise][238]&lt;[string][230]> | [string][230])?** 
-   `state` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `country` **([Promise][238]&lt;[string][230]> | [string][230])?** 

## RatePlansInterface

Collection of rate plans.

### Properties

-   `ratePlans` **([Promise][238]&lt;{}?> | {}?)** 

## RatePlanInterface

A single rate plan

### Properties

-   `name` **([Promise][238]&lt;[string][230]> | [string][230])** 
-   `description` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `currency` **([Promise][238]&lt;[string][230]?> | [string][230]?)?** 
-   `price` **([Promise][238]&lt;[number][242]> | [number][242])** 
-   `roomTypeIds` **([Promise][238]&lt;[Array][233]&lt;[string][230]>?> | [Array][233]&lt;[string][230]>?)?** 
-   `updatedAt` **([Promise][238]&lt;[Date][244]> | [Date][244])** 
-   `availableForReservation` **([Promise][238]&lt;[DateRangeInterface][247]?> | [DateRangeInterface][247]?)?** 
-   `availableForTravel` **([Promise][238]&lt;[DateRangeInterface][247]?> | [DateRangeInterface][247]?)?** 
-   `modifiers` **([Promise][238]&lt;[Array][233]&lt;[RatePlanPriceModifier][248]>?> | [Array][233]&lt;[RatePlanPriceModifier][248]>?)?** 
-   `restrictions` **([Promise][238]&lt;[RatePlanRestrictions][249]?> | [RatePlanRestrictions][249]?)?** 

## DateRangeInterface

Generic date range interface

### Properties

-   `from` **([Promise][238]&lt;[Date][244]> | [Date][244])** 
-   `to` **([Promise][238]&lt;[Date][244]> | [Date][244])** 

## RatePlanPriceModifier

A single rate plan price modifier

### Properties

-   `from` **([Promise][238]&lt;[Date][244]?> | [Date][244]?)?** 
-   `to` **([Promise][238]&lt;[Date][244]?> | [Date][244]?)?** 
-   `adjustment` **([Promise][238]&lt;[number][242]> | [number][242])** 
-   `conditions` **([Promise][238]&lt;{minLengthOfStay: ([Promise][238]&lt;[number][242]?> | [number][242]?)?, maxAge: ([Promise][238]&lt;[number][242]?> | [number][242]?)?}> | {minLengthOfStay: ([Promise][238]&lt;[number][242]?> | [number][242]?)?, maxAge: ([Promise][238]&lt;[number][242]?> | [number][242]?)?})?** 

## RatePlanRestrictions

Collection of rate plans restrictions.

### Properties

-   `bookingCutOff` **([Promise][238]&lt;{min: ([Promise][238]&lt;[number][242]?> | [number][242]?)?, max: ([Promise][238]&lt;[number][242]?> | [number][242]?)?}?> | {min: ([Promise][238]&lt;[number][242]?> | [number][242]?)?, max: ([Promise][238]&lt;[number][242]?> | [number][242]?)?}?)?** 
-   `lengthOfStay` **([Promise][238]&lt;{min: ([Promise][238]&lt;[number][242]?> | [number][242]?)?, max: ([Promise][238]&lt;[number][242]?> | [number][242]?)?}?> | {min: ([Promise][238]&lt;[number][242]?> | [number][242]?)?, max: ([Promise][238]&lt;[number][242]?> | [number][242]?)?}?)?** 

## DataModelOptionsType

DataModelOptionsType options. May look like this:

    {
      "provider": 'http://localhost:8545',// or another Web3 provider
      "gasCoefficient": 2 // Optional, defaults to 2
    }

Type: {provider: ([string][230] \| [Object][231])?, gasCoefficient: [number][242]?}

### Properties

-   `provider` **([string][230] \| [Object][231])?** 
-   `gasCoefficient` **[number][242]?** 

## DataModel

DataModel

### Parameters

-   `options` **[DataModelOptionsType][250]** 

### getWindingTreeIndex

Returns an Ethereum backed Winding Tree index.

#### Parameters

-   `address` **[string][230]** 

Returns **WTIndexDataProvider** 

### getTransactionsStatus

Finds out in what state are Ethereum transactions. All logs
are decoded along the way and some metrics such as min/max blockAge
are computed. If you pass all transactions related to a single
operation (such as updateHotel), you may benefit from the computed
metrics.

#### Parameters

-   `txHashes` **[Array][233]&lt;[string][230]>** 

Returns **[Promise][238]&lt;[AdaptedTxResultsInterface][251]>** 

### createWallet

Returns a wallet instance for given JSON keystore.

#### Parameters

-   `jsonWallet` **[KeystoreV3Interface][252]** 

Returns **[Wallet][253]** 

### createInstance

Creates a configured DataModel instance.

#### Parameters

-   `options` **[DataModelOptionsType][250]** 

Returns **[DataModel][254]** 

## OnChainHotel

Wrapper class for a hotel backed by a smart contract on
Ethereum that's holding `dataUri` pointer to its data.

It provides an accessor to such data in a form of
`StoragePointer` instance under `dataIndex` property.
Every schema-specific implementation details
are dealt with in StoragePointer.

### Parameters

-   `web3Utils` **[Utils][255]** 
-   `web3Contracts` **[Contracts][236]** 
-   `indexContract` **[Object][231]** 
-   `address` **[string][230]** 

### initialize

Initializes the underlying RemotelyBackedDataset that actually
communicates with the on-chain stored data. If address was provided
in the contsructor, the RemotelyBackedDataset is marked as deployed
and can be used instantly.

### dataIndex

Async getter for `StoragePointer` instance.
Since it has to eventually access the `dataUri`
field stored on-chain, it is lazy loaded.
Any data structure that is accessed by StoragePointer
instance has for now be known beforehand, thus the whole
data format of hotel data on `dataUri` is specified here.

Returns **[Promise][238]&lt;[StoragePointer][256]>** 

### setLocalData

Update manager and dataUri properties. dataUri can never be nulled. Manager
can never be nulled. Manager can be changed only for an un-deployed
contract (without address).

#### Parameters

-   `newData` **[HotelOnChainDataInterface][257]** 

Returns **[Promise][238]&lt;void>** 

### toPlainObject

Helper method that transforms the whole hotel into a sync simple
JavaScript object only with data properties.

By default, all off-chain data is resolved recursively. If you want to
limit off-chain data only to a certain subtree, use the resolvedFields
parameter that accepts an array of paths in dot notation (`father.son.child`).
Every last piece of every path will be resolved recursively as well. An empty
list means no fields will be resolved.

Properties that represent an actual separate document have a format of

    {
      'ref': 'schema://original-url',
      'contents': {
        'actual': 'data'
      }
    }

#### Parameters

-   `resolvedFields` **[Array][233]&lt;[string][230]>?** 
-   `List` **resolvedFields** of fields to be resolved from off chain data, in dot notation.
    If an empty array is provided, no resolving is done. If the argument is missing, all fields are resolved.


-   Throws **[StoragePointerError][258]** when an adapter encounters an error while accessing the data

Returns **[Promise][238]&lt;PlainHotelInterface>** 

### \_editInfoOnChain

Generates transaction data and metadata for updating dataUri on-chain.
Used internally as a remoteSetter for `dataUri` property.
Transaction is not signed nor sent here.

#### Parameters

-   `transactionOptions` **[TransactionOptionsInterface][259]** 
-   `options` **[TransactionOptionsInterface][259]** object, only `from` property is currently used, all others are ignored in this implementation

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** resulting transaction metadata

### createOnChainData

Generates transaction data and metadata for creating new hotel contract on-chain.
Transaction is not signed nor sent here.

#### Parameters

-   `transactionOptions` **[TransactionOptionsInterface][259]** 
-   `options` **[TransactionOptionsInterface][259]** object, only `from` property is currently used, all others are ignored in this implementation

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** Transaction data and metadata, including the freshly created hotel instance.

### updateOnChainData

Generates transaction data and metadata required for all hotel-related data modification
by calling `updateRemoteData` on a `RemotelyBackedDataset`.

#### Parameters

-   `transactionOptions` **[TransactionOptionsInterface][259]** 
-   `options` **[TransactionOptionsInterface][259]** object that is passed to all remote data setters


-   Throws **[SmartContractInstantiationError][232]** When the underlying contract is not yet deployed.
-   Throws **[SmartContractInstantiationError][232]** When dataUri is empty.

Returns **[Promise][238]&lt;[Array][233]&lt;[PreparedTransactionMetadataInterface][260]>>** List of transaction metadata

### transferOnChainOwnership

This is potentially devastating, so it's better to name
this operation explicitly instead of hiding it under updateOnChainData.

Generates transaction data and metadata required for a hotel ownership
transfer.

#### Parameters

-   `newManager` **[string][230]** 
-   `transactionOptions` **[TransactionOptionsInterface][259]** 
-   `Address` **[string][230]** of a new manager
-   `options` **[TransactionOptionsInterface][259]** object, only `from` property is currently used, all others are ignored in this implementation


-   Throws **[SmartContractInstantiationError][232]** When the underlying contract is not yet deployed.

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** Transaction data and metadata, including the freshly created hotel instance.

### removeOnChainData

Generates transaction data and metadata required for destroying the hotel object on network.

#### Parameters

-   `transactionOptions` **[TransactionOptionsInterface][259]** 
-   `options` **[TransactionOptionsInterface][259]** object, only `from` property is currently used, all others are ignored in this implementation


-   Throws **[SmartContractInstantiationError][232]** When the underlying contract is not yet deployed.

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** Transaction data and metadata, including the freshly created hotel instance.

### createInstance

Create new configured instance.

#### Parameters

-   `web3Utils` **[Utils][255]** 
-   `web3Contracts` **[Contracts][236]** 
-   `indexContract` **web3.eth.Contract** Representation of Winding Tree index
-   `address` **[string][230]** is an optional pointer to Ethereum network where the hotel lives.
    It is used as a reference for on-chain stored data. If it is not provided, a hotel has
    to be created on chain to behave as expected.

Returns **[OnChainHotel][261]** 

## WTIndex

Ethereum smart contract backed implementation of Winding Tree
index wrapper. It provides methods for working with hotel
contracts.

### Parameters

-   `indexAddress` **[string][230]** 
-   `web3Utils` **[Utils][255]** 
-   `web3Contracts` **[Contracts][236]** 

### addHotel

Generates transaction data required for adding a totally new hotel
and more metadata required for sucessful mining of that transaction.
Does not sign or send the transaction.

#### Parameters

-   `hotelData` **[HotelOnChainDataInterface][257]** 


-   Throws **[InputDataError][262]** When hotelData does not contain dataUri property.
-   Throws **[InputDataError][262]** When hotelData does not contain a manager property.
-   Throws **[WTLibsError][263]** When anything goes wrong during data preparation phase.

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 

### updateHotel

Generates a list of transaction data required for updating a hotel
and more metadata required for sucessful mining of those transactions.
Does not sign or send any of the transactions.

#### Parameters

-   `hotel` **[HotelInterface][264]** 


-   Throws **[InputDataError][262]** When hotel does not have a manager field.
-   Throws **[InputDataError][262]** When hotel does not contain a manager property.
-   Throws **[WTLibsError][263]** When anything goes wrong during data preparation phase.

Returns **[Promise][238]&lt;[Array][233]&lt;[PreparedTransactionMetadataInterface][260]>>** 

### removeHotel

Generates transaction data required for removing a hotel
and more metadata required for successful mining of that transaction.
Does not sign or send the transaction.

#### Parameters

-   `hotel` **[HotelInterface][264]** 


-   Throws **[InputDataError][262]** When hotel does not contain dataUri property.
-   Throws **[InputDataError][262]** When hotel does not contain a manager property.
-   Throws **[WTLibsError][263]** When anything goes wrong during data preparation phase.

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 

### transferHotelOwnership

Generates transaction data required for transferring a hotel
ownership and more metadata required for successful mining of that
transactoin. Does not sign or send the transaction.

#### Parameters

-   `hotel` **[HotelInterface][264]** 
-   `newManager` **[string][230]** 


-   Throws **[InputDataError][262]** When hotel does not have an address.
-   Throws **[InputDataError][262]** When hotel does not contain a manager property.
-   Throws **[InputDataError][262]** When the new manager address is the same as the old manager.
-   Throws **[InputDataError][262]** When the new manager address is not a valid address.
-   Throws **[WTLibsError][263]** When anything goes wrong during data preparation phase.

Returns **[Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 

### getHotel

Gets hotel representation of a hotel on a given address. If hotel
on such address is not registered through this Winding Tree index
instance, the method throws immediately.

#### Parameters

-   `address` **[string][230]** 


-   Throws **[HotelNotFoundError][265]** When hotel does not exist.
-   Throws **[HotelNotInstantiableError][266]** When the hotel class cannot be constructed.
-   Throws **[WTLibsError][263]** When something breaks in the network communication.

Returns **[Promise][238]&lt;[HotelInterface][264]?>** 

### getAllHotels

Returns a list of all hotels. It will filter out
every hotel that is inaccessible for any reason.

Currently any inaccessible hotel is silently ignored.
Subject to change.

Returns **[Promise][238]&lt;[Array][233]&lt;[HotelInterface][264]>>** 

### createInstance

Returns a configured instance of WTIndex
representing a Winding Tree index contract on a given `indexAddress`.

#### Parameters

-   `indexAddress` **[string][230]** 
-   `web3Utils` **[Utils][255]** 
-   `web3Contracts` **[Contracts][236]** 

Returns **[WTIndex][267]** 

## WTLibsError

**Extends Error**

Generic WT Libs error.

### Parameters

-   `message`  
-   `originalError`  

## SmartContractInstantiationError

**Extends WTLibsError**

A smart contract abstraction could not have been created.

## WalletError

**Extends WTLibsError**

Some error occurred in the wallet abstraction.

## MalformedWalletError

**Extends WalletError**

Thrown when a wallet cannot be decrypted by web3 due to its format
or bad parameters.

## WalletStateError

**Extends WalletError**

Thrown when an operation is performed with a wallet
that can not be currently done due to its internal state.

## WalletPasswordError

**Extends WalletError**

Wallet cannot be decrypted because of a bad password.

## WalletSigningError

**Extends WalletError**

Error occured during signing a transaction, that might
mean that the wallet can't sign the transaction data,
because tx.from does not match the wallet's address.

## TransactionMiningError

**Extends WTLibsError**

Generic error that happens when no special case is
detected during transaction mining error throw by web3.js

## OutOfGasError

**Extends TransactionMiningError**

Transaction supposedly ran out of gas and was not mined.
This depends on how precisely the error is reported by EVM
and subsequently web3.js

## InsufficientFundsError

**Extends TransactionMiningError**

Transaction supposedly was not mined because the originating
account does not have enough funds.
This depends on how precisely the error is reported by EVM
and subsequently web3.js

## TransactionRevertedError

**Extends TransactionMiningError**

Transaction was supposedly reverted and was not mined.
This depends on how precisely the error is reported by EVM
and subsequently web3.js

## NoReceiptError

**Extends TransactionMiningError**

There was a problem with getting a transaction receipt (network issue,
timeout, small gasPrice). It does not necessarily mean that the
transaction was not mined. You should probably check for it by other means.
This depends on how precisely the error is reported by EVM
and subsequently web3.js

## InaccessibleEthereumNodeError

**Extends TransactionMiningError**

There was a problem with communicating with the Ethereum node.
The library has literally zero idea about what really happened with the
transaction.

## InputDataError

**Extends WTLibsError**

Input data has a wrong format or some data is missing.

## OffChainDataError

**Extends WTLibsError**

Generic error related to off-chain stored data.

## OffChainDataConfigurationError

**Extends OffChainDataError**

An error occurred during a configuration of off-chain data storages.

## OffChainDataRuntimeError

**Extends OffChainDataError**

An error occurred during an attempt to use off-chain data storage.

## StoragePointerError

**Extends WTLibsError**

An error occurred when working with a StoragePointer.

## RemotelyBackedDatasetError

**Extends WTLibsError**

Generic error that occurrs during any work with RemotelyBackedDataset.

## RemoteDataAccessError

**Extends RemotelyBackedDatasetError**

It is impossible to access remote data (i. e. the data is in bad state).

## RemoteDataReadError

**Extends RemotelyBackedDatasetError**

It is impossible to read from remote data (i. e. the connection might have been lost).

## HotelNotFoundError

**Extends WTLibsError**

Hotel is not found in WTIndex for some reason.

## HotelNotInstantiableError

**Extends WTLibsError**

Hotel abstraction instance cannot be created for some reason.

## WtLibsOptionsType

General options for wt-libs-js. Holds all things necessary
for successful setup of Winding Tree network.

Type: {dataModelOptions: [DataModelOptionsType][250], offChainDataOptions: [OffChainDataClientOptionsType][268]}

### Properties

-   `dataModelOptions` **[DataModelOptionsType][250]** 
-   `offChainDataOptions` **[OffChainDataClientOptionsType][268]** 

## WTLibs

Main public interface of wt-libs-js.

### Parameters

-   `options` **[WtLibsOptionsType][269]** 

### getWTIndex

Get an instance of Winding Tree index from the underlying `data-model`.

#### Parameters

-   `address` **[string][230]** of the Winding Tree index

Returns **[WTIndexInterface][270]** 

### getTransactionsStatus

Get a transactions status from the underlying `data-model`.
This method is async because it communicates directly with and EVM node.

#### Parameters

-   `transactionHashes` **[Array][233]&lt;[string][230]>** 

Returns **[Promise][238]&lt;[AdaptedTxResultsInterface][251]>** 

### createWallet

Returns a wallet abstraction that can be used for signing transactions

#### Parameters

-   `jsonWallet` **[KeystoreV3Interface][252]** 

Returns **[WalletInterface][271]** 

### getOffChainDataClient

Returns an off-chain data storage client that can be used for uploading
or downloading data stored off-chain.

#### Parameters

-   `schema` **[string][230]** 

Returns **[OffChainDataAdapterInterface][272]** 

### createInstance

Call this to create wt-libs-js instance.

#### Parameters

-   `options` **[WtLibsOptionsType][269]** 

Returns **[WTLibs][273]** WTLibs

### errors

A map of errors that WTLibs can throw, useful
for checking what happened in your code.

## HotelOnChainDataInterface

Shape of data that is stored on-chain
about every hotel.

-   `address` is the network address.
-   `manager` is the network address of hotel manager.
-   `dataUri` holds a pointer to the off-chain storage
    that is used internally to store data.

### Properties

-   `address` **([Promise][238]&lt;[string][230]?> | [string][230]?)** 
-   `manager` **([Promise][238]&lt;[string][230]?> | [string][230]?)** 
-   `dataUri` **([Promise][238]&lt;[string][230]?> | [string][230]?)** 

## TransactionOptionsInterface

Ethereum transaction options that are passed from an external user.
It has to contain `from` and usually would contain `to` as well.

This copies the structure of [https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#contract-estimategas][274]
as it might be used as a base for gas estimation prior to actually
sending a transaction.

### Properties

-   `from` **[string][230]** 
-   `to` **[string][230]?** 
-   `gas` **[number][242]?** 
-   `value` **([number][242] \| [string][230] | BigNumber)?** 

## TransactionCallbacksInterface

Callback options that can be passed to a transaction that
will be signed and sent through our Wallet abstraction.

### Properties

-   `onReceipt` **function (receipt: [TxReceiptInterface][275]): void?** 
-   `onTransactionHash` **function (hash: [string][230]): void?** 

## PreparedTransactionMetadataInterface

Format of generated transaction data and metadata
that contains a related hotel instance, transactionData
itself (ready for signing) and optionally eventCallbacks
that should be passed to our Wallet abstraction with
transactionData itself to ensure a consistent internal state
after the transaction is mined.

### Properties

-   `hotel` **[HotelInterface][264]** 
-   `transactionData` **[TransactionDataInterface][276]** 
-   `eventCallbacks` **[TransactionCallbacksInterface][277]?** 

## HotelInterface

**Extends HotelOnChainDataInterface**

Represents a hotel instance that can
communicate with on-chain hotel representation
and provides an access to offChain data via `dataIndex`
property.

### Properties

-   `dataIndex` **[Promise][238]&lt;[StoragePointer][256]>** 
-   `toPlainObject` **function (): [Promise][238]&lt;[Object][231]>** 
-   `setLocalData` **function (newData: [HotelOnChainDataInterface][257]): [Promise][238]&lt;void>** 
-   `createOnChainData` **function (transactionOptions: [TransactionOptionsInterface][259]): [Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 
-   `updateOnChainData` **function (transactionOptions: [TransactionOptionsInterface][259]): [Promise][238]&lt;[Array][233]&lt;[PreparedTransactionMetadataInterface][260]>>** 
-   `removeOnChainData` **function (transactionOptions: [TransactionOptionsInterface][259]): [Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 
-   `transferOnChainOwnership` **function (newManager: [string][230], transactionOptions: [TransactionOptionsInterface][259]): [Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 

## WTIndexInterface

WindingTree index interface that provides all methods
necessary for interaction with the hotels.\`

### Properties

-   `addHotel` **function (hotel: [HotelOnChainDataInterface][257]): [Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 
-   `getHotel` **function (address: [string][230]): [Promise][238]&lt;[HotelInterface][264]?>** 
-   `getAllHotels` **function (): [Promise][238]&lt;[Array][233]&lt;[HotelInterface][264]>>** 
-   `updateHotel` **function (hotel: [HotelInterface][264]): [Promise][238]&lt;[Array][233]&lt;[PreparedTransactionMetadataInterface][260]>>** 
-   `removeHotel` **function (hotel: [HotelInterface][264]): [Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 
-   `transferHotelOwnership` **function (hotel: [HotelInterface][264], newManager: [string][230]): [Promise][238]&lt;[PreparedTransactionMetadataInterface][260]>** 

## OffChainDataAdapterInterface

Interface for an off-chain storage read.

### Properties

-   `upload` **function (data: {}): [Promise][238]&lt;[string][230]>** 
-   `update` **function (uri: [string][230], data: {}): [Promise][238]&lt;[string][230]>** 
-   `download` **function (uri: [string][230]): [Promise][238]&lt;{}?>** 

## DataModelInterface

Formalization of DataModel's public interface.

### Properties

-   `getWindingTreeIndex` **function (address: [string][230]): [WTIndexInterface][270]** 
-   `getTransactionsStatus` **function (transactionHashes: [Array][233]&lt;[string][230]>): [Promise][238]&lt;[AdaptedTxResultsInterface][251]>** 
-   `createWallet` **function (jsonWallet: [Object][231]): [WalletInterface][271]** 

## RawLogRecordInterface

This interface represents raw ethereum transaction log object
as returned by <a href="http://web3js.readthedocs.io/en/1.0/web3-eth.html#eth-getpastlogs-return">getPastLogs</a>.
Sometimes you might need the raw data to do some additional processing.

### Properties

-   `address` **[string][230]** 
-   `data` **[string][230]** 
-   `topics` **[Array][233]&lt;[string][230]>** 
-   `logIndex` **[number][242]** 
-   `transactionIndex` **[number][242]** 
-   `transactionHash` **[number][242]** 
-   `blockHash` **[number][242]** 
-   `blockNumber` **[number][242]** 

## DecodedLogRecordInterface

This interface represents an Ethereum log record
with decoded data that are much easier to read
and act upon.

### Properties

-   `address` **[string][230]** 
-   `event` **[string][230]** 
-   `attributes` **[Array][233]&lt;{name: [string][230], type: [string][230], value: [string][230]}>** 

## TransactionDataInterface

Ethereum transaction data used when creating transaction, see for example
[https://web3js.readthedocs.io/en/1.0/web3-eth-accounts.html#signtransaction][278]

### Properties

-   `nonce` **[number][242]??** 
-   `chainId` **[string][230]?** 
-   `from` **[string][230]** 
-   `to` **[string][230]** 
-   `data` **[string][230]** 
-   `value` **[string][230]?** 
-   `gasPrice` **[string][230]?** 
-   `gas` **([string][230] \| [number][242])** 

## TxInterface

Ethereum transaction data after TX was accepted by the network, see
for example [http://web3js.readthedocs.io/en/1.0/web3-eth.html#gettransaction][279]

### Properties

-   `hash` **[string][230]?** 
-   `nonce` **([string][230] \| [number][242])?** 
-   `blockHash` **[string][230]?** 
-   `blockNumber` **[number][242]?** 
-   `transactionIndex` **[number][242]?** 
-   `from` **[string][230]?** 
-   `to` **[string][230]?** 
-   `value` **[string][230]?** 
-   `gasPrice` **[string][230]?** 
-   `gas` **[number][242]?** 
-   `input` **[string][230]?** 

## TxReceiptInterface

Transaction receipt as returned by
<a href="http://web3js.readthedocs.io/en/1.0/web3-eth.html#eth-gettransactionreceipt-return">getTransactionReceipt</a>.
This raw data might be sometimes needed for additional processing.

### Properties

-   `transactionHash` **[string][230]** 
-   `blockNumber` **[number][242]** 
-   `blockHash` **[string][230]** 
-   `transactionIndex` **[number][242]** 
-   `from` **[string][230]** 
-   `to` **[string][230]** 
-   `contractAddress` **any** 
-   `cumulativeGasUsed` **[number][242]** 
-   `gasUsed` **[number][242]** 
-   `logs` **[Array][233]&lt;[RawLogRecordInterface][234]>** 
-   `status` **[boolean][280]** 

## AdaptedTxResultInterface

A custom transaction result interface that informs
about the transaction status, its age and decoded logs.

### Properties

-   `transactionHash` **[string][230]** 
-   `blockAge` **[number][242]** 
-   `decodedLogs` **[Array][233]&lt;[DecodedLogRecordInterface][235]>** 
-   `raw` **[TxReceiptInterface][275]** 

## AdaptedTxResultsInterface

A cummulative result of multiple transactions. We are
computing how many of the transactions were already
executed, how old are they (which might be useful for making
assumptions about confirmations). This also contains the raw data.

### Properties

-   `meta` **{total: [number][242], processed: [number][242], minBlockAge: [number][242], maxBlockAge: [number][242], allPassed: [boolean][280]}** 
-   `meta.total` **[number][242]** 
-   `meta.processed` **[number][242]** 
-   `meta.minBlockAge` **[number][242]** 
-   `meta.maxBlockAge` **[number][242]** 
-   `meta.allPassed` **[boolean][280]** 
-   `results` **{}?** 

## WalletInterface

Wallet abstraction interface. It assumes the following workflow:
1\. libs user holds a json wallet
2\. libs user unlocks the wallet abstraction with a password
3\. libs user calls some business logic which internally uses `signAndSendTransaction`
4\. libs user either locks the wallet (if she plans to use it again)
4\. OR destroys the wallet object data by calling `destroy`

`lock` should not remove the data necessary for unlocking the wallet again.
`destroy` on the other hand should clean all data that may be exploited from memory

### Properties

-   `unlock` **function (password: [string][230]): void** 
-   `signAndSendTransaction` **function (transactionData: [TransactionDataInterface][276], eventCallBacks: [TransactionCallbacksInterface][277]): [Promise][238]&lt;([string][230] \| [TxReceiptInterface][275])>** 
-   `lock` **function (): void** 
-   `destroy` **function (): void** 
-   `getAddress` **function (): [string][230]** 

## KeystoreV3Interface

Interface for Ethereum keystore

Description: [https://medium.com/@julien.m./what-is-an-ethereum-keystore-file-86c8c5917b97][281]

Specification: [https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition][282]

### Properties

-   `version` **[number][242]** 
-   `id` **[string][230]** 
-   `address` **[string][230]** 
-   `crypto` **{ciphertext: [string][230], cipherparams: {iv: [string][230]}, cipher: [string][230], kdf: [string][230], kdfparams: {dklen: [number][242], salt: [string][230], n: [number][242], r: [number][242], p: [number][242]}, mac: [string][230]}** 
-   `crypto.ciphertext` **[string][230]** 
-   `crypto.cipherparams` **{iv: [string][230]}** 
-   `crypto.cipherparams.iv` **[string][230]** 
-   `crypto.cipher` **[string][230]** 
-   `crypto.kdf` **[string][230]** 
-   `crypto.kdfparams` **{dklen: [number][242], salt: [string][230], n: [number][242], r: [number][242], p: [number][242]}** 
-   `crypto.kdfparams.dklen` **[number][242]** 
-   `crypto.kdfparams.salt` **[string][230]** 
-   `crypto.kdfparams.n` **[number][242]** 
-   `crypto.kdfparams.r` **[number][242]** 
-   `crypto.kdfparams.p` **[number][242]** 
-   `crypto.mac` **[string][230]** 

## OffChainDataClientOptionsType

OffChainDataClientOptionsType

Type: {adapters: {}}

### Properties

-   `adapters` **{}** 

## OffChainDataClient

OffChainDataClient is a static factory class that is responsible
for creating proper instances of OffChainDataAdapterInterface.
It is configured during the library initialization.

Please bear in mind, that once the adapters are configured, the
configuration is shared during the whole runtime.

### setup

Initializes the map of OffChainDataAdapters.

#### Parameters

-   `options` **[OffChainDataClientOptionsType][268]** 
-   `OffChainDataClientOptionsType`  


-   Throws **[OffChainDataConfigurationError][283]** when there are multiple adapters with the same name

### \_reset

Drops all pre-configured OffChainDataAdapters. Useful for testing.

### getAdapter

Returns a fresh instance of an appropriate OffChainDataAdapter by
calling the `create` function from the adapter's configuration.

#### Parameters

-   `schema` **[string][230]?** 


-   Throws **[OffChainDataRuntimeError][284]** when schema is not defined or adapter for this schema does not exist

Returns **[OffChainDataAdapterInterface][272]** 

## RemotelyBackedDataset

Dataset ready to use various strategies for storing the data
in a remote storage. Every field backed by this strategy should
have a getter and setter defined that interacts with the
remote storage. The dataset strategy may be in the following states:

-   fresh - Purely in-memory created object with no data
-   unsynced - Some data may be set locally, but they were not
    propagated to the remote storage, and no data was loaded from the
    remote storage.
-   deployed - Data has its representation ready on the remote storage
    and we may call remote getters and setters to interact with the remote storage.
-   obsolete - Data lost its representation on the remote storage and
    we should not interact with it anymore.

Internally a state is held for each property. If you `get` a property
that was not previously accessed, the whole dataset gets synced (this might
get more efficient in the future), and you get a current value from
the remote storage. If any value was changed locally, it is considered
as the current value. Once you are done with data modification, you
have to call `updateRemoteData` that propagates the whole dataset to the
remote storage. These calls are deduplicated, so if a single call is used
to update multiple properties, only once call is done.

### bindProperties

Creates generic getters and setters that proxy `remoteGetter` and
`remoteSetter` when necessary.

The fields are specified as an `options.fields` property and every key
represents a single property. Every property's options can than hold
a `remoteGetter` and `remoteSetter` field such as

    {fields: {
        dataUri: {
          remoteGetter: async (): Promise<?string> => {
            return (await this.contract.dataUri().call();
          },
          // this will usually return a transaction ID
          remoteSetter: async (): Promise<string> => {
            return this.contract.methods.callHotel(this.address, data).send(txOptions);
          }
    },

All passed fields are set as unsynced which means that
after the first `get` on any of those, the whole dataset will
be synced from the remote storage (if the dataset is marked as deployed).

#### Parameters

-   `options` **[Object][231]** `{fields: {[field]: fieldOptions}}`
-   `bindTo` **[Object][231]** Object to which the properties will be bound.
    Typically the initiator of this operation.

### isObsolete

Is dataset marked as obsolete?

Returns **[Boolean][280]** 

### markObsolete

Marks dataset as obsolete. Typically called after the remote storage
is destroyed or made inaccessible. This is not propagated anywhere
but merely serves as a flag to prevent further interaction with this object.

### isDeployed

Is dataset deployed to the remote storage?

Returns **[Boolean][280]** 

### markDeployed

Marks dataset as deployed. Typically called when the remote
storage is set up, created or connected to.

### \_genericGetter

Tries to get a value. If the property was not synced before,
it will sync the whole dataset from a remote storage. If a property
was modified locally before, the modified value will be returned.

#### Parameters

-   `property` **[string][230]** 


-   Throws **[RemoteDataAccessError][285]** When dataset is marked as obsolete

Returns **any** property's current value

### \_genericSetter

Sets a new value locally and marks the property as dirty. Thath
means that even after syncing data from remote storage, the object will still
serve the locally modified value.

#### Parameters

-   `property` **[string][230]** 
-   `newValue` **any** 

### updateRemoteData

Calls all remoteSetters if relevant data was changed.
Calls are deduplicated, so if the same method would be used
to update multiple fields, it is called only once.

#### Parameters

-   `transactionOptions` **[Object][231]** passed to every remoteSetter, typically something like `{from: address, to: address}`

Returns **[Array][233]&lt;any>** Results of remoteSetters, it would typically contain transaction metadata. In any case, an eventCallbacks
object is appended to every result and onReceipt callback is added to ensure that data fields would eventually be properly marked as 'synced'.

### createInstance

Generic factory method.

## FieldDefType

Definition of a data field that is stored off-chain.
This may be recursive.

Type: {name: [string][230], isStoragePointer: [boolean][280]?, required: [boolean][280]?, fields: [Array][233]&lt;([FieldDefType][286] \| [string][230])>?}

### Properties

-   `name` **[string][230]** 
-   `isStoragePointer` **[boolean][280]?** 
-   `required` **[boolean][280]?** 
-   `fields` **[Array][233]&lt;([FieldDefType][286] \| [string][230])>?** 

## StoragePointer

`StoragePointer` serves as a representation of an
off-chain document holding JSON data. This generic class
does not enforce any protocol/schema and contains
infrastructure code that helps to set up field definition
and getters for every data field. It does not provide any
means of writing data, its sole purpose is for reading.

It is possible to use this recursively, so you can define
a field as another storage pointer. The configuration is
declarative and may look like this:

    const pointer = StoragePointer.createInstance('some://url', ['name', 'description']);
    pointer.ref; // contains 'some://url',
    await pointer.contents.name;
    await pointer.contents.description;

Or in recursive cases:

    const pointer = StoragePointer.createInstance('some://url', [
      {
        name: 'description',
        isStoragePointer: true,
        required: false,
        fields: ['name', 'description', 'location'],
      },
      'signature'
    ]);
    pointer.ref; // contains  'some://url'
    await pointer.contents.signature;
    const descPointer = await pointer.contents.description;
    descPointer.ref; // contains whatever is written in a description property in a document located on 'some://url'
    await descPointer.contents.name;

The required attribute is set to true by default. However some documents might be optional
so if you mark a storage pointer as not required, the library will not crash if the field
is missing or nulled.

Only a top-level properties have to be defined beforehand, so the `signature`
field above may contain a complex JSON object.

### Parameters

-   `uri` **[string][230]** where to look for the data
-   `fields` **[Array][233]&lt;[FieldDefType][286]>** definition from which are generated getters

### reset

Reset the storage pointer, thus forcing it to lazily
download the data again.

Usable when the the off-chain data might have changed since
the last query and the most recent version of it is needed.

Returns **[Promise][238]&lt;void>** 

### \_genericGetter

Lazy data getter. The contents file gets downloaded only
once any data field is accessed for the first time. Also
the recursive `StoragePointer`s are created here only
after the contents of the data is known, because we need
to know the uri to be able to instantiate the appropariate
`StoragePointer`.

This behaviour might change in a way that we are able to
swap the StoragePointer implementation during runtime.

#### Parameters

-   `field` **[string][230]** 

Returns **([StoragePointer][256] \| [Object][231])** 

### \_detectSchema

Detects schema from an uri, i. e.
from `schema://some-data`, detects `schema`.

#### Parameters

-   `uri` **[string][230]** 

Returns **[string][230]?** 

### \_getOffChainDataClient

Returns appropriate implementation of `OffChainDataAdapterInterface`
based on schema. Uses `OffChainDataClient.getAdapter` factory method.

Returns **[OffChainDataAdapterInterface][272]** 

### \_initFromStorage

Sets the internal properties (\_data, \_storagePointers)
based on the data retrieved from the storage.

#### Parameters

-   `data` **[Object][231]** 

### \_downloadFromStorage

Gets the data document via `OffChainDataAdapterInterface`
and uses it to initialize the internal state.

Returns **[Promise][238]&lt;void>** 

### toPlainObject

Recursively transforms the off chain stored document to a sync plain
javascript object. By default, traverses the whole document tree.

You can limit which branches will get downloaded by providing a `resolvedFields`
argument which acccepts a list of paths in dot notation (`father.son.child`).
Every child will then get resolved recursively.

If you don't want some paths to get downloaded, just provide at least one sibling
field on that level which is not a `StoragePointer`. An empty list means no fields
will be resolved.

Data always gets downloaded if this method is called.

The resulting structure mimicks the original `StoragePointer` data structure:

    {
      'ref': 'schema://url',
      'contents': {
        'field': 'value',
        'storagePointer': {
          'ref': 'schema://originalUri',
          'contents': {
             'field': 'value'
          }
        },
        'unresolvedStoragePointer': 'schema://unresolved-url'
      }
    }

#### Parameters

-   `resolvedFields` **[Array][233]&lt;[string][230]>?** 
-   `list` **resolvedFields** of fields that limit the resulting dataset in dot notation (`father.child.son`).
     If an empty array is provided, no resolving is done. If the argument is missing, all fields are resolved.


-   Throws **[StoragePointerError][258]** when an adapter encounters an error while accessing the data

Returns **[Promise][238]&lt;{ref: [string][230], contents: [Object][231]}>** 

### createInstance

Returns a new instance of StoragePointer.

Normalizes the `fields` format before creating the actual
instance

#### Parameters

-   `uri` **[string][230]** where to look for data document. It has to include schema, i. e. `https://example.com/data`
-   `fields` **[Array][233]&lt;([FieldDefType][286] \| [string][230])>** list of top-level fields in the referred document

Returns **[StoragePointer][256]** 

## Utils

Collection of utility methods useful during
communication with Ethereum network.

### Parameters

-   `gasCoefficient` **[number][242]** 
-   `web3` **Web3** 

### isZeroAddress

Is address a zero address? Uses a string comparison.
Returns true also for strings that are not a valid address.

#### Parameters

-   `address` **[string][230]** 

Returns **[boolean][280]** 

### applyGasCoefficient

Multiplies the gas with a previously configured `gasCoefficient`

#### Parameters

-   `gas` **[number][242]** 

Returns **[number][242]** 

### getCurrentWeb3Provider

Proxy method for `web3.currentProvider`

Returns **[Object][231]** 

### getCurrentBlockNumber

Proxy method for `web3.eth.getBlockNumber`

Returns **[Promise][238]&lt;[number][242]>** 

### determineCurrentAddressNonce

Returns current number of transactions mined for given
Ethereum address

#### Parameters

-   `address` **[string][230]** 

Returns **[Promise][238]&lt;[number][242]>** number

### getTransactionReceipt

Proxy method for `web3.eth.getTransactionReceipt`

#### Parameters

-   `txHash` **[string][230]** 

Returns **[TxReceiptInterface][275]** 

### getTransaction

Proxy method for `web3.eth.getTransaction`

#### Parameters

-   `txHash` **[string][230]** 

Returns **[Promise][238]&lt;[TxInterface][287]>** 

### createInstance

Returns an initialized instance

#### Parameters

-   `gasCoefficient` **[number][242]** 
-   `web3` **Web3** instance created by `new Web3(provider)`

Returns **[Contracts][236]** 

## Wallet

Web3 based wallet implementation

### Parameters

-   `keystoreJsonV3` **[KeystoreV3Interface][252]** 

### setWeb3

Sets up an initialized Web3 instance for later use

#### Parameters

-   `web3` **Web3** 

### isDestroyed

It is not possible to do any operations on a destroyed
wallet. Wallet is destroyed by calling the `destroy()` method.

Returns **[boolean][280]** 

### getAddress

Returns the address passed in `keystoreJsonV3`
in a checksummed format, e.g. prefixed with 0x
and case-sensitive.

-   Throws **[WalletStateError][288]** When wallet was destroyed.
-   Throws **[WalletStateError][288]** When there's no keystore

Returns **[string][230]** 

### unlock

Unlocks/decrypts the JSON wallet keystore. <strong>From now on
there is a readable privateKey stored in memory!</strong>

#### Parameters

-   `password` **[string][230]** 


-   Throws **[WalletStateError][288]** When wallet was destroyed.
-   Throws **[WalletStateError][288]** When there is no web3 instance configured.
-   Throws **[WalletPasswordError][289]** When wallet cannot be decrypted.
-   Throws **[MalformedWalletError][290]** When wallet format is not recognized by web3.
-   Throws **[WalletError][291]** When anything else breaks down during decryption. But
    that should actually never happen unless the web3 implementation is changed.

### signAndSendTransaction

Takes transaction data, signs them with an unlocked private key and sends them to
the network. Resolves either immediately after receiving a `transactionHash` (with hash) or after
a `receipt` event (with raw receipt object). This depends on passed eventCallbacks.
When onReceipt callback is present, Promise is resolved after `receipt` event

#### Parameters

-   `transactionData` **[TransactionDataInterface][276]** 
-   `eventCallbacks` **[TransactionCallbacksInterface][277]?** 
-   `optional` **[TransactionCallbacksInterface][277]** callbacks called when events come back from the network


-   Throws **[WalletStateError][288]** When wallet was destroyed.
-   Throws **[WalletStateError][288]** When there is no web3 instance configured.
-   Throws **[WalletStateError][288]** When wallet is not unlocked.
-   Throws **[WalletSigningError][292]** When transaction.from does not match the wallet account.
-   Throws **[NoReceiptError][293]** When there are issues with getting a transaction receipt.
-   Throws **[OutOfGasError][294]** When it seems transaction ran out of gas
-   Throws **[TransactionRevertedError][295]** When it seems transaction was reverted in EVM
-   Throws **[InsufficientFundsError][296]** When it seems there is not enough ETH in this wallet
-   Throws **[InaccessibleEthereumNodeError][297]** When it seems the network is unreachable
-   Throws **[TransactionMiningError][298]** When there's another error during the signing and mining process

Returns **[Promise][238]&lt;([string][230] \| [TxReceiptInterface][275])>** transaction hash

### lock

Locks the wallet, i. e. deletes the private key from memory.
The original JSON keystore remains in the memory and can
be unlocked again if necessary.

This relies on the JS garbage collector, so please do not reference
the internal variables of this class elsewhere.

-   Throws **[WalletStateError][288]** When wallet was destroyed.

### destroy

Destroys the wallet. It first locks it, thus deleting
the private key from memory and then removes from
memory the JSON file.

This relies on the JS garbage collector, so please do not reference
the internal variables of this class elsewhere.

-   Throws **[WalletStateError][288]** When wallet was destroyed.

### createInstance

Creates an initialized instance

#### Parameters

-   `keystoreJsonV3` **[KeystoreV3Interface][252]** 

Returns **[Wallet][253]** 

[1]: #contracts

[2]: #parameters

[3]: #_getinstance

[4]: #parameters-1

[5]: #getindexinstance

[6]: #parameters-2

[7]: #gethotelinstance

[8]: #parameters-3

[9]: #decodelogs

[10]: #parameters-4

[11]: #createinstance

[12]: #parameters-5

[13]: #hoteldataindex

[14]: #properties

[15]: #hoteldescriptioninterface

[16]: #properties-1

[17]: #roomtypeinterface

[18]: #properties-2

[19]: #occupancyinterface

[20]: #properties-3

[21]: #locationinterface

[22]: #properties-4

[23]: #additionalcontact

[24]: #properties-5

[25]: #contactinterface

[26]: #properties-6

[27]: #contactsinterface

[28]: #properties-7

[29]: #addressinterface

[30]: #properties-8

[31]: #rateplansinterface

[32]: #properties-9

[33]: #rateplaninterface

[34]: #properties-10

[35]: #daterangeinterface

[36]: #properties-11

[37]: #rateplanpricemodifier

[38]: #properties-12

[39]: #rateplanrestrictions

[40]: #properties-13

[41]: #datamodeloptionstype

[42]: #properties-14

[43]: #datamodel

[44]: #parameters-6

[45]: #getwindingtreeindex

[46]: #parameters-7

[47]: #gettransactionsstatus

[48]: #parameters-8

[49]: #createwallet

[50]: #parameters-9

[51]: #createinstance-1

[52]: #parameters-10

[53]: #onchainhotel

[54]: #parameters-11

[55]: #initialize

[56]: #dataindex

[57]: #setlocaldata

[58]: #parameters-12

[59]: #toplainobject

[60]: #parameters-13

[61]: #_editinfoonchain

[62]: #parameters-14

[63]: #createonchaindata

[64]: #parameters-15

[65]: #updateonchaindata

[66]: #parameters-16

[67]: #transferonchainownership

[68]: #parameters-17

[69]: #removeonchaindata

[70]: #parameters-18

[71]: #createinstance-2

[72]: #parameters-19

[73]: #wtindex

[74]: #parameters-20

[75]: #addhotel

[76]: #parameters-21

[77]: #updatehotel

[78]: #parameters-22

[79]: #removehotel

[80]: #parameters-23

[81]: #transferhotelownership

[82]: #parameters-24

[83]: #gethotel

[84]: #parameters-25

[85]: #getallhotels

[86]: #createinstance-3

[87]: #parameters-26

[88]: #wtlibserror

[89]: #parameters-27

[90]: #smartcontractinstantiationerror

[91]: #walleterror

[92]: #malformedwalleterror

[93]: #walletstateerror

[94]: #walletpassworderror

[95]: #walletsigningerror

[96]: #transactionminingerror

[97]: #outofgaserror

[98]: #insufficientfundserror

[99]: #transactionrevertederror

[100]: #noreceipterror

[101]: #inaccessibleethereumnodeerror

[102]: #inputdataerror

[103]: #offchaindataerror

[104]: #offchaindataconfigurationerror

[105]: #offchaindataruntimeerror

[106]: #storagepointererror

[107]: #remotelybackeddataseterror

[108]: #remotedataaccesserror

[109]: #remotedatareaderror

[110]: #hotelnotfounderror

[111]: #hotelnotinstantiableerror

[112]: #wtlibsoptionstype

[113]: #properties-15

[114]: #wtlibs

[115]: #parameters-28

[116]: #getwtindex

[117]: #parameters-29

[118]: #gettransactionsstatus-1

[119]: #parameters-30

[120]: #createwallet-1

[121]: #parameters-31

[122]: #getoffchaindataclient

[123]: #parameters-32

[124]: #createinstance-4

[125]: #parameters-33

[126]: #errors

[127]: #hotelonchaindatainterface

[128]: #properties-16

[129]: #transactionoptionsinterface

[130]: #properties-17

[131]: #transactioncallbacksinterface

[132]: #properties-18

[133]: #preparedtransactionmetadatainterface

[134]: #properties-19

[135]: #hotelinterface

[136]: #properties-20

[137]: #wtindexinterface

[138]: #properties-21

[139]: #offchaindataadapterinterface

[140]: #properties-22

[141]: #datamodelinterface

[142]: #properties-23

[143]: #rawlogrecordinterface

[144]: #properties-24

[145]: #decodedlogrecordinterface

[146]: #properties-25

[147]: #transactiondatainterface

[148]: #properties-26

[149]: #txinterface

[150]: #properties-27

[151]: #txreceiptinterface

[152]: #properties-28

[153]: #adaptedtxresultinterface

[154]: #properties-29

[155]: #adaptedtxresultsinterface

[156]: #properties-30

[157]: #walletinterface

[158]: #properties-31

[159]: #keystorev3interface

[160]: #properties-32

[161]: #offchaindataclientoptionstype

[162]: #properties-33

[163]: #offchaindataclient

[164]: #setup

[165]: #parameters-34

[166]: #_reset

[167]: #getadapter

[168]: #parameters-35

[169]: #remotelybackeddataset

[170]: #bindproperties

[171]: #parameters-36

[172]: #isobsolete

[173]: #markobsolete

[174]: #isdeployed

[175]: #markdeployed

[176]: #_genericgetter

[177]: #parameters-37

[178]: #_genericsetter

[179]: #parameters-38

[180]: #updateremotedata

[181]: #parameters-39

[182]: #createinstance-5

[183]: #fielddeftype

[184]: #properties-34

[185]: #storagepointer

[186]: #parameters-40

[187]: #reset

[188]: #_genericgetter-1

[189]: #parameters-41

[190]: #_detectschema

[191]: #parameters-42

[192]: #_getoffchaindataclient

[193]: #_initfromstorage

[194]: #parameters-43

[195]: #_downloadfromstorage

[196]: #toplainobject-1

[197]: #parameters-44

[198]: #createinstance-6

[199]: #parameters-45

[200]: #utils

[201]: #parameters-46

[202]: #iszeroaddress

[203]: #parameters-47

[204]: #applygascoefficient

[205]: #parameters-48

[206]: #getcurrentweb3provider

[207]: #getcurrentblocknumber

[208]: #determinecurrentaddressnonce

[209]: #parameters-49

[210]: #gettransactionreceipt

[211]: #parameters-50

[212]: #gettransaction

[213]: #parameters-51

[214]: #createinstance-7

[215]: #parameters-52

[216]: #wallet

[217]: #parameters-53

[218]: #setweb3

[219]: #parameters-54

[220]: #isdestroyed

[221]: #getaddress

[222]: #unlock

[223]: #parameters-55

[224]: #signandsendtransaction

[225]: #parameters-56

[226]: #lock

[227]: #destroy

[228]: #createinstance-8

[229]: #parameters-57

[230]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[231]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[232]: #smartcontractinstantiationerror

[233]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

[234]: #rawlogrecordinterface

[235]: #decodedlogrecordinterface

[236]: #contracts

[237]: https://github.com/windingtree/wt-js-libs/issues/125

[238]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[239]: #locationinterface

[240]: #contactsinterface

[241]: #addressinterface

[242]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Number

[243]: #occupancyinterface

[244]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Date

[245]: #additionalcontact

[246]: #contactinterface

[247]: #daterangeinterface

[248]: #rateplanpricemodifier

[249]: #rateplanrestrictions

[250]: #datamodeloptionstype

[251]: #adaptedtxresultsinterface

[252]: #keystorev3interface

[253]: #wallet

[254]: #datamodel

[255]: #utils

[256]: #storagepointer

[257]: #hotelonchaindatainterface

[258]: #storagepointererror

[259]: #transactionoptionsinterface

[260]: #preparedtransactionmetadatainterface

[261]: #onchainhotel

[262]: #inputdataerror

[263]: #wtlibserror

[264]: #hotelinterface

[265]: #hotelnotfounderror

[266]: #hotelnotinstantiableerror

[267]: #wtindex

[268]: #offchaindataclientoptionstype

[269]: #wtlibsoptionstype

[270]: #wtindexinterface

[271]: #walletinterface

[272]: #offchaindataadapterinterface

[273]: #wtlibs

[274]: https://web3js.readthedocs.io/en/1.0/web3-eth-contract.html#contract-estimategas

[275]: #txreceiptinterface

[276]: #transactiondatainterface

[277]: #transactioncallbacksinterface

[278]: https://web3js.readthedocs.io/en/1.0/web3-eth-accounts.html#signtransaction

[279]: http://web3js.readthedocs.io/en/1.0/web3-eth.html#gettransaction

[280]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[281]: https://medium.com/@julien.m./what-is-an-ethereum-keystore-file-86c8c5917b97

[282]: https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition

[283]: #offchaindataconfigurationerror

[284]: #offchaindataruntimeerror

[285]: #remotedataaccesserror

[286]: #fielddeftype

[287]: #txinterface

[288]: #walletstateerror

[289]: #walletpassworderror

[290]: #malformedwalleterror

[291]: #walleterror

[292]: #walletsigningerror

[293]: #noreceipterror

[294]: #outofgaserror

[295]: #transactionrevertederror

[296]: #insufficientfundserror

[297]: #inaccessibleethereumnodeerror

[298]: #transactionminingerror
